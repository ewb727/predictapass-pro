<!DOCTYPE html>
<html>
<head>
    <title>PredictaPass Pro</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1>PredictaPass Pro</h1>
    <form id="predict-form">
        <input type="text" name="racer" placeholder="Racer Name" required><br>
        <input type="text" name="car" placeholder="Car Info" required><br>
        <input type="text" name="track" placeholder="Track" required><br>
        <input type="text" name="engine" placeholder="Engine" required><br>
        <input type="text" name="trans" placeholder="Transmission" required><br>
        <input type="text" name="stall" placeholder="Stall Speed" required><br>
        <input type="text" name="tires" placeholder="Tire Size" required><br>
        <input type="text" name="launch" placeholder="Launch RPM" required><br>
        <input type="text" name="shift" placeholder="Shift RPM" required><br>
        <input type="text" name="fuel" placeholder="Fuel Type" required><br>
        <input type="text" name="temp" placeholder="Temperature Â°F" required><br>
        <input type="text" name="humidity" placeholder="Humidity %" required><br>
        <input type="text" name="baro" placeholder="Barometric Pressure inHg" required><br>
        <input type="text" name="elevation" placeholder="Track Elevation ft" required><br>
        <button type="submit">Predict</button>
    </form>
    <div id="result"></div>

    <script>
    document.getElementById('predict-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        const formData = new FormData(e.target);
        const data = {};
        formData.forEach((value, key) => { data[key] = value });

        const res = await fetch('/predict', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        const result = await res.json();
        document.getElementById('result').innerText = result.response || result.error;
    });
    </script>
</body>
</html>
